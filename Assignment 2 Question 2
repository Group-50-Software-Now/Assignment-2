import os #needed for portable file/folder paths across windows/mac
import glob #used to collect all CSV files in a folder automatically
import pandas as pd # to simplify reading csvs + grouping calculations(mean/std/max/min)

TEMPERATURE_FOLDER = r"C:\Users\rauni\OneDrive\Desktop\HIT137_Assignment2\temperatures"    # used to path the folder that contains all the temprature CSV files
# file path used by Khushi id:S398777
#TEMPERATURE_FOLDER = r"/Users/khushi/Assignment_2/temperatures" 
MONTHS = [
    "January", "February", "March", "April", "May", "June",
    "July", "August", "September", "October", "November", "December"
]    #used for the dataset stores tempratures in these 12 month columns

SEASONS = {
    "Summer": ["December", "January", "February"],
    "Autumn": ["March", "April", "May"],
    "Winter": ["June", "July", "August"],
    "Spring": ["September", "October", "November"]
}  #used to mapp the cleanest way to convert months into australian seasons

SEASON_ORDER = ["Summer", "Autumn", "Winter", "Spring"]  #used to ensure output order is stable and predictable

def find_season(month): #isolate month-season mapping so it can be reused consistently
#convert month name into Australian season; none means unexpected month name.
    for season, months in SEASONS.items(): # iterate mapping instead  of hardcoded if/else chain
        if month in months: #membership test is simple and readable for this small list
            return season  # as soon as we find it , we stop (efficient + clear)
    return None # signals invalid month header/data instead of silently guessing


# Reads all CSV files and combines them into one dataset

def load_all_years_data(folder_path):
# Look through the given folder and gather every CSV file so
# data from multiple years can be processed together in one step
    # All CSV files in the folder are collected
    csv_files = glob.glob(os.path.join(folder_path, "*.csv"))

    if len(csv_files) == 0:
# Stop early if the folder has no data files, since there is nothing meaningful to load or combine
        print("No CSV files found in the folder.")
        return None

    combined_data = []

# Each file is read and reshaped into a usable format
    for file_path in csv_files:
        df = pd.read_csv(file_path)

# Monthly temperature columns are converted into
        # one column called 'Temperature' with a matching 'Month'
        df_long = df.melt(
            id_vars=["STATION_NAME", "STN_ID", "LAT", "LON"],
            value_vars=MONTHS,
            var_name="Month",
            value_name="Temperature"
        )

# This list will hold data from all CSV files before they are merged

        combined_data.append(df_long)
